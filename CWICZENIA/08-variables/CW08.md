# Practical Exercise 08 — Environment Variables / Ćwiczenie praktyczne 08 — Zmienne środowiskowe

## EN — Exercise Description
In this practical exercise, our goal is to explore in detail how to work with environment variables in workflows.

Here are the instructions for the exercise:

1. Create a file named `08-variables.yaml` under the `.github/workflows` folder at the root of your repository.
2. Name the workflow `08 — Using Variables`.
3. Add the following triggers with event filters and activity types to your workflow:
   - a. `push`
   - b. `workflow_dispatch`
4. Define two environment variables at the workflow level:
   - a. `WORKFLOW_VAR`, should contain the value `'I am a workflow env var'`
   - b. `OVERWRITTEN`, should contain the value `'I will be overwritten'`
5. Add a single job named `echo` to the workflow:
   - a. The job should run on `ubuntu-latest`.
   - b. Define two environment variables at the job level:
     - i. `JOB_VAR`, should contain the value `'I am a job env var'`
     - ii. `OVERWRITTEN`, should contain the value `'I have been overwritten at the job level'`
6. Add a step named `Print Env Variables`:
   - a. Define two environment variables at the step level:
     - i. `STEP_VAR`, should contain the value `'I am a step env var'`
     - ii. `step_var2`, should contain the value `'I am another step var'`
   - b. The step should print the following information:
     - i. `"Step env var: <retrieve the value of STEP_VAR here>"`
     - ii. `"Step env var 2: <retrieve the value of step_var2 here>"`
     - iii. `"Job env var: <retrieve the value of JOB_VAR here>"`
     - iv. `"Workflow env var: <retrieve the value of WORKFLOW_VAR here>"`
     - v. `"Overwritten: <retrieve the value of OVERWRITTEN here>"`
7. Add another step named `Overwrite Job Variable`:
   - a. Define a single environment variable at the step level:
     - i. `OVERWRITTEN`, should contain the value `'I have been overwritten at the step level'`
   - b. The step should print a single line containing `"Step env var: <retrieve the value of OVERWRITTEN here>"`
8. Commit the changes and push the code. Take a few moments to inspect the output of the workflow run. How were the different values of the environment variables overwritten?
9. Change the workflow triggers to contain only `workflow_dispatch` to prevent this workflow from running with every push and polluting the list of workflow runs.

### EN — Tips
**Retrieving the values of environment variables**  
When running shell scripts, we can retrieve the values of environment variables in two ways:

1. The first one is to use the env context: `echo "Env variable value: ${{ env.MY_VARIABLE }}"`
2. The second one is to directly access the variable with the dollar-sign syntax: `echo "Env variable value: $MY_VARIABLE"`

---

## PL — Opis ćwiczenia
W tym ćwiczeniu praktycznym naszym celem jest szczegółowe poznanie pracy ze zmiennymi środowiskowymi w workflowach.

Oto instrukcje do ćwiczenia:

1. Utwórz plik o nazwie `08-variables.yaml` w folderze `.github/workflows` w katalogu głównym Twojego repozytorium.
2. Nazwij workflow: `08 — Using Variables`.
3. Dodaj do workflow następujące wyzwalacze (triggery) wraz z filtrami i typami aktywności:
   - a. `push`
   - b. `workflow_dispatch`
4. Zdefiniuj dwie zmienne środowiskowe na poziomie workflow:
   - a. `WORKFLOW_VAR` — powinna zawierać wartość `'I am a workflow env var'`
   - b. `OVERWRITTEN` — powinna zawierać wartość `'I will be overwritten'`
5. Dodaj do workflow pojedynczy job o nazwie `echo`:
   - a. Job powinien działać na `ubuntu-latest`.
   - b. Zdefiniuj dwie zmienne środowiskowe na poziomie joba:
     - i. `JOB_VAR` — powinna zawierać wartość `'I am a job env var'`
     - ii. `OVERWRITTEN` — powinna zawierać wartość `'I have been overwritten at the job level'`
6. Dodaj krok o nazwie `Print Env Variables`:
   - a. Zdefiniuj dwie zmienne środowiskowe na poziomie kroku:
     - i. `STEP_VAR` — powinna zawierać wartość `'I am a step env var'`
     - ii. `step_var2` — powinna zawierać wartość `'I am another step var'`
   - b. Krok powinien wypisać następujące informacje:
     - i. `"Step env var: <tu pobierz wartość STEP_VAR>"`
     - ii. `"Step env var 2: <tu pobierz wartość step_var2>"`
     - iii. `"Job env var: <tu pobierz wartość JOB_VAR>"`
     - iv. `"Workflow env var: <tu pobierz wartość WORKFLOW_VAR>"`
     - v. `"Overwritten: <tu pobierz wartość OVERWRITTEN>"`
7. Dodaj kolejny krok o nazwie `Overwrite Job Variable`:
   - a. Zdefiniuj jedną zmienną środowiskową na poziomie kroku:
     - i. `OVERWRITTEN` — powinna zawierać wartość `'I have been overwritten at the step level'`
   - b. Krok powinien wypisać jedną linię zawierającą `"Step env var: <tu pobierz wartość OVERWRITTEN>"`
8. Zacommituj zmiany i wypchnij kod. Poświęć chwilę na sprawdzenie wyniku uruchomienia workflow. W jaki sposób nadpisane zostały różne wartości zmiennych środowiskowych?
9. Zmień wyzwalacze workflow tak, aby zawierały tylko `workflow_dispatch`, aby zapobiec uruchamianiu tego workflow przy każdym pushu i nie zaśmiecać listy uruchomień.

### PL — Wskazówki
**Pobieranie wartości zmiennych środowiskowych**  
Podczas uruchamiania skryptów powłoki możemy pobierać wartości zmiennych środowiskowych na dwa sposoby:

1. Pierwszy sposób to użycie kontekstu `env`: `echo "Env variable value: ${{ env.MY_VARIABLE }}"`
2. Drugi sposób to bezpośredni dostęp do zmiennej z użyciem znaku dolara: `echo "Env variable value: $MY_VARIABLE"`
