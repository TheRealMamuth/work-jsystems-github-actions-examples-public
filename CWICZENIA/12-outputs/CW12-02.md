
# Practical Exercise 14 - Avoiding the Mistake of Overwriting the Output File / Ćwiczenie praktyczne 14 – Unikanie błędu nadpisania pliku wyjściowego

---

## **English Version**

### Exercise Description

In this practical exercise, our goal is to explore what happens when we accidentally overwrite the content of the `GITHUB_OUTPUT` file.

Here are the instructions for the exercise:

1. Extend the workflow in the `12-outputs.yaml` file:  
   - a. Add the following outputs to the step with an id of `build`:  
     - i. `output1` should contain the value `value1`  
     - ii. `output2` should contain the value `value2`  
   - b. Add the following output to the `build` job:  
     - i. `output1` should contain the value of the `output1` output from the build step.  
   - c. Additionally, in the `build` step, add a new line to print the contents of the file referenced by the `GITHUB_OUTPUT` variable.  
   - d. Add the following line **after** printing the contents of the file:  
      ```bash
      echo "mistake=true" > "$GITHUB_OUTPUT"
      ```  
      (the mistake in using `>` instead of `>>` is intentional).  
   - e. Add a new line to print the contents of the same file again.  
   - f. Add a new step to the `deploy` job:  
     - i. The step should be named **Print Outputs**  
     - ii. The step should print the value of `output1` from the `build` job.  

2. Commit the changes and push the code. Trigger the workflow from the UI and take a few moments to inspect the results of the workflow runs.  
   What happens with the values of the outputs from the build job?

3. Now move the line which mistakenly overwrites the contents of the `GITHUB_OUTPUT` file to its own step. To do that:  
   - a. Create a new step, named **Step with mistake**, after the **Build** step in the `build` job.  
   - b. Move the following lines from the **Build** step to the **Step with mistake** step:  
      ```bash
      echo "output2=value2" >> "$GITHUB_OUTPUT"
      cat "$GITHUB_OUTPUT"
      ```  

4. Commit the changes and push the code. Trigger the workflow from the UI and take a few moments to inspect the results of the workflow runs.  
   What happens with the values of the outputs from the build job?

---

## **Wersja polska**

### Opis ćwiczenia

W tym ćwiczeniu praktycznym naszym celem jest zbadanie, co się dzieje, gdy przypadkowo nadpiszemy zawartość pliku `GITHUB_OUTPUT`.

Instrukcje do ćwiczenia:

1. Rozszerz workflow w pliku `12-outputs.yaml`:  
   - a. Dodaj następujące dane wyjściowe (outputs) do kroku o identyfikatorze `build`:  
     - i. `output1` powinien zawierać wartość `value1`  
     - ii. `output2` powinien zawierać wartość `value2`  
   - b. Dodaj następujące dane wyjściowe do zadania `build`:  
     - i. `output1` powinien zawierać wartość `output1` z kroku `build`.  
   - c. Dodatkowo, w kroku `build`, dodaj nową linię, aby wyświetlić zawartość pliku wskazywanego przez zmienną `GITHUB_OUTPUT`.  
   - d. Dodaj następującą linię **po** wyświetleniu zawartości pliku:  
      ```bash
      echo "mistake=true" > "$GITHUB_OUTPUT"
      ```  
      (błąd w użyciu `>` zamiast `>>` jest celowy).  
   - e. Dodaj nową linię, aby ponownie wyświetlić zawartość tego samego pliku.  
   - f. Dodaj nowy krok do zadania `deploy`:  
     - i. Krok powinien nazywać się **Print Outputs**  
     - ii. Krok powinien wyświetlać wartość `output1` z zadania `build`.  

2. Zatwierdź zmiany i wypchnij kod. Uruchom workflow z interfejsu użytkownika (UI) i poświęć chwilę na przeanalizowanie wyników uruchomień.  
   Co dzieje się z wartościami danych wyjściowych z zadania `build`?

3. Przenieś teraz linię, która błędnie nadpisuje zawartość pliku `GITHUB_OUTPUT`, do osobnego kroku. Aby to zrobić:  
   - a. Utwórz nowy krok o nazwie **Step with mistake** po kroku **Build** w zadaniu `build`.  
   - b. Przenieś poniższe linie z kroku **Build** do kroku **Step with mistake**:  
      ```bash
      echo "output2=value2" >> "$GITHUB_OUTPUT"
      cat "$GITHUB_OUTPUT"
      ```  

4. Zatwierdź zmiany i wypchnij kod. Uruchom workflow z interfejsu użytkownika (UI) i przeanalizuj wyniki uruchomień.  
   Co dzieje się z wartościami danych wyjściowych z zadania `build`?

---
